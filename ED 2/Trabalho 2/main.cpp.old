/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/* 
 * File:   main.cpp
 * Author: victorpereira
 *
 * Created on 20 de Mar√ßo de 2019, 00:53
 */

/*
    Grupo:

    Igor Zago Massaro - 217999
    Victor Pereira - 206588
*/

#include <iostream>
#include <iomanip>

#include "atacante.h"
#include "player.h"
#include "carreira.h"
#include "hash.h"

#define QTDE_PLAYERS 2

using namespace std;

/*
 * 
 */
void printPlayers(Player ** player,int size) {
    int index;
    for(index = 0; index < size; index++) {
        cout << "Jogador " << index+1 << endl;
        player[index]->print();
        cout << endl;
    }
};


int main() {
    Player * players[QTDE_PLAYERS];
    Hash hash;
    hash.print();
    cout << "Vamos adicionar " << QTDE_PLAYERS << " jogadores:" << endl;
    for (int i = 0; i < QTDE_PLAYERS; i++) {
        int opcao, idade;
        string nome, team;
        float altura;

        cout << "Jogador " << i+1 << endl;
        cout << "Nome: " << endl;
        cin>>nome;
        cout << "Idade: " << endl;
        cin>>idade;
        cout << "Altura: " << endl;
        cin>>altura;
        cout << "Time: " << endl;
        cin>>team;
        cout << "Opcao: (1: adicionar gols marcados, 2:adicionar total de partidas)" << endl;
        cin>>opcao;
        if (opcao == 1) {
            int golsMarcados;
            cout << "Gols marcados: " << endl;
            cin>>golsMarcados;
            players[i] = new Atacante(nome, idade, altura, team, golsMarcados);
        } else if (opcao == 2) {
            int totalDePartidas;
            cout << "Numero de partidas: " << endl;
            cin>>totalDePartidas;
            players[i] = new Carreira(nome, idade, altura, team, totalDePartidas);
        }
    }

    cout << endl;
    
    printPlayers(players,QTDE_PLAYERS);

    int choice = rand() % QTDE_PLAYERS;

    cout << "O Jogador escolhido foi: " << choice + 1 << endl;
    bool     found = false;

    hash.retrieveItem(players[choice], found);
    cout << players[choice]->getNome() << " -> " << found << endl;

    cout << "------------------------------" <<  endl;

    hash.deleteItem(players[choice]);

    cout << "------------------------------" <<  endl;

    hash.print();
    cout << "Fim" << endl;

    
    return 0;
}

